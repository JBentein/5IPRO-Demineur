<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>D√©mineur</title>
  <style>
    /* Votre code CSS ici */
    body {
      background-image: url('https://fr.web.img6.acsta.net/r_654_368/newsv7/21/06/16/17/04/5448290.jpg');
      background-size: cover;
      background-repeat: no-repeat;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }
    h1 {
      font-size: 36px;
      font-weight: bold;
      color: white;
      text-shadow: 2px 2px black;
      margin-top: 100px;
    }
    table {
      border-collapse: collapse;
      margin: 0 auto;
    }
    td {
      width: 30px;
      height: 30px;
      text-align: center;
      font-weight: bold;
      border: 1px solid black;
      background-color: #ddd;
    }
    .revealed {
      background-color: white;
    }
    .flagged {
      background-color: yellow;
    }
  </style>
</head>
<body>
  <!-- Votre code HTML et JavaScript ici -->
  <table id="game-board"></table>
  <script>
    // D√©finit les constantes de jeu pour le d√©mineur
    const ROWS = 10; // nombre de lignes du d√©mineur
    const COLS = 10; // nombre de colonnes du d√©mineur
    const MINES = 15; // nombre de mines

    // Initialise le tableau de jeu avec des z√©ros
    let board = []; // tableau de jeu
    for (let i = 0; i < ROWS; i++) {
      board[i] = [];
      for (let j = 0; j < COLS; j++) {
        board[i][j] = 0;
      }
    }

    // Place les bombes dans le tableau de jeu
    let bombsPlaced = 0;
    while (bombsPlaced < MINES) {
      let row = Math.floor(Math.random() * ROWS);
      let col = Math.floor(Math.random() * COLS);
      if (board[row][col] === 0) {
        board[row][col] = 'üí£';
        bombsPlaced++;
      }
    }

    // Calcule les valeurs de chaque case
    for (let i = 0; i < ROWS; i++) {
      for (let j = 0; j < COLS; j++) {
        if (board[i][j] !== 'üí£') {let count = 0;
          if (i > 0 && j > 0 && board[i - 1][j - 1] === 'üí£') count++;
          if (i > 0 && board[i - 1][j] === 'üí£') count++;
          if (i > 0 && j < COLS - 1 && board[i - 1][j + 1] === 'üí£') count++;
          if (j > 0 && board[i][j - 1] === 'üí£') count++;
          if (j < COLS - 1 && board[i][j + 1] === 'üí£') count++;
          if (i < ROWS - 1 && j > 0 && board[i + 1][j - 1] === 'üí£') count++;
          if (i < ROWS - 1 && board[i + 1][j] === 'üí£') count++;
          if (i < ROWS - 1 && j < COLS - 1 && board[i + 1][j + 1] === 'üí£') count++;
          board[i][j] = count;
}
}
}  
// Fonction pour g√©rer le clic sur une case
function handleClick(event) {
  let row = parseInt(event.target.getAttribute('data-row'));
  let col = parseInt(event.target.getAttribute('data-col'));
  let cell = event.target;

  // Ignore le clic si la case a d√©j√† √©t√© r√©v√©l√©e ou marqu√©e
  if (cell.classList.contains('revealed') || cell.classList.contains('flagged')) {
    return;
  }

  if (board[row][col] === 'üí£') {
    // La case est une bombe, fin du jeu
    cell.textContent = 'üí£';
    alert('Vous avez perdu !');
  } else {
    // La case ne contient pas de bombe, r√©v√®le les cases adjacentes sans bombe
    revealAdjacentCells(row, col);
  }
}

// Fonction pour r√©v√©ler les cases adjacentes √† une case vide
function revealAdjacentCells(row, col) {
  if (row < 0 || row >= ROWS || col < 0 || col >= COLS) {
    // La case est en dehors des limites du tableau, fin de la r√©cursion
    return;
  }
  let cell = document.querySelector(`[data-row="${row}"][data-col="${col}"]`);
  if (cell.classList.contains('revealed') || cell.classList.contains('flagged')) {
    // La case a d√©j√† √©t√© r√©v√©l√©e ou marqu√©e, fin de la r√©cursion
    return;
  }
  cell.classList.add('revealed');
  if (board[row][col] === 0) {
    // La case est vide, continue de r√©v√©ler les cases adjacentes
    revealAdjacentCells(row - 1, col - 1);
    revealAdjacentCells(row - 1, col);
    revealAdjacentCells(row - 1, col + 1);
    revealAdjacentCells(row, col - 1);
    revealAdjacentCells(row, col + 1);
    revealAdjacentCells(row + 1, col - 1);
    revealAdjacentCells(row + 1, col);
    revealAdjacentCells(row + 1, col + 1);
  } else {
    // La case contient un nombre, affiche le nombre
    cell.textContent = board[row][col];
  }
}

// Dessine le tableau de jeu dans la page HTML
let table = document.getElementById('game-board');
for (let i = 0; i < ROWS; i++) {
  let row = document.createElement('tr');
  for (let j = 0; j < COLS; j++) {
    let cell = document.createElement('td');
    cell.setAttribute('data-row', i);
    cell.setAttribute('data-col', j);
    cell.addEventListener('click', handleClick);
    row.appendChild(cell);
  }
  table.appendChild(row);
}
</script>
</body>
</html>